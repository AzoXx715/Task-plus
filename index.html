<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionnaire de Tâches</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Gestionnaire de Tâches</h1>
            <div class="add-task-section">
                <button id="add-task-btn" class="add-task-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"/>
                        <line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                    Nouvelle tâche
                </button>
            </div>
            <div class="controls">
                <button id="view-toggle" class="toggle-btn">Mode Tableau</button>
            </div>
        </header>

        <main class="main-content">
            <!-- Mode Colonnes -->
            <div id="columns-view" class="columns-view">
                <div class="categories">
                    <div class="category" data-category="a-lancer">
                        <h2>À lancer</h2>
                        <div class="tasks-container" id="tasks-a-lancer"></div>
                    </div>
                    <div class="category" data-category="en-cours">
                        <h2>En cours</h2>
                        <div class="tasks-container" id="tasks-en-cours"></div>
                    </div>
                    <div class="category" data-category="a-finir">
                        <h2>À finir</h2>
                        <div class="tasks-container" id="tasks-a-finir"></div>
                    </div>
                    <div class="category" data-category="complet">
                        <h2>Complet</h2>
                        <div class="tasks-container" id="tasks-complet"></div>
                    </div>
                </div>
            </div>

            <!-- Mode Tableau -->
            <div id="table-view" class="table-view hidden">
                <div class="table-controls">
                    <button id="sort-date-btn">Trier par Date</button>
                    <button id="sort-name-btn">Trier par Nom</button>
                </div>
                <table class="tasks-table">
                    <thead>
                        <tr>
                            <th>Titre</th>
                            <th>Description</th>
                            <th>Catégorie</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                    </tbody>
                </table>
            </div>
        </main>

        <!-- Menu contextuel -->
        <div id="context-menu" class="context-menu">
            <button id="ctx-new">Nouvelle tâche</button>
            <button id="ctx-edit">Modifier</button>
            <button id="ctx-delete">Supprimer</button>
            <div class="ctx-group">
                <span class="ctx-label">Déplacer vers</span>
                <div class="ctx-moves">
                    <button data-move="a-lancer">À lancer</button>
                    <button data-move="en-cours">En cours</button>
                    <button data-move="a-finir">À finir</button>
                    <button data-move="complet">Complet</button>
                </div>
            </div>
        </div>

        <!-- Modal pour ajouter/modifier une tâche -->
        <div id="task-modal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="modal-title">Nouvelle tâche</h3>
                    <button id="modal-close" class="icon-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/>
                            <line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                    </button>
                </div>
                <form id="task-form">
                    <div class="form-group">
                        <label for="modal-task-title">Titre *</label>
                        <input type="text" id="modal-task-title" required>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-desc">Description</label>
                        <textarea id="modal-task-desc" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-category">Catégorie</label>
                        <select id="modal-task-category">
                            <option value="a-lancer">À lancer</option>
                            <option value="en-cours">En cours</option>
                            <option value="a-finir">À finir</option>
                            <option value="complet">Complet</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-priority">Priorité</label>
                        <select id="modal-task-priority">
                            <option value="none">Aucune</option>
                            <option value="low">Faible</option>
                            <option value="medium">Moyenne</option>
                            <option value="high">Élevée</option>
                            <option value="urgent">Urgente</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="modal-cancel" class="btn-secondary">Annuler</button>
                        <button type="submit" id="modal-save" class="btn-primary">Sauvegarder</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal de confirmation de suppression -->
        <div id="confirm-modal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <h3>Confirmer la suppression</h3>
                    <button id="confirm-close" class="icon-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/>
                            <line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                    </button>
                </div>
                <div class="form-group">
                    <p id="confirm-message">Voulez-vous vraiment supprimer cette tâche ?</p>
                </div>
                <div class="modal-actions">
                    <button type="button" id="confirm-cancel" class="btn-secondary">Annuler</button>
                    <button type="button" id="confirm-delete" class="btn-danger">Supprimer</button>
                </div>
            </div>
        </div>

    <script src="script.js"></script>
</body>
</html>
